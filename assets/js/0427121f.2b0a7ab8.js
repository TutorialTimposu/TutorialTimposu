"use strict";(self.webpackChunktimposu=self.webpackChunktimposu||[]).push([[958],{3905:(e,a,n)=>{n.d(a,{Zo:()=>u,kt:()=>d});var t=n(7294);function l(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function i(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),n.push.apply(n,t)}return n}function r(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?i(Object(n),!0).forEach((function(a){l(e,a,n[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))}))}return e}function o(e,a){if(null==e)return{};var n,t,l=function(e,a){if(null==e)return{};var n,t,l={},i=Object.keys(e);for(t=0;t<i.length;t++)n=i[t],a.indexOf(n)>=0||(l[n]=e[n]);return l}(e,a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)n=i[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}var s=t.createContext({}),p=function(e){var a=t.useContext(s),n=a;return e&&(n="function"==typeof e?e(a):r(r({},a),e)),n},u=function(e){var a=p(e.components);return t.createElement(s.Provider,{value:a},e.children)},m="mdxType",c={inlineCode:"code",wrapper:function(e){var a=e.children;return t.createElement(t.Fragment,{},a)}},g=t.forwardRef((function(e,a){var n=e.components,l=e.mdxType,i=e.originalType,s=e.parentName,u=o(e,["components","mdxType","originalType","parentName"]),m=p(n),g=l,d=m["".concat(s,".").concat(g)]||m[g]||c[g]||i;return n?t.createElement(d,r(r({ref:a},u),{},{components:n})):t.createElement(d,r({ref:a},u))}));function d(e,a){var n=arguments,l=a&&a.mdxType;if("string"==typeof e||l){var i=n.length,r=new Array(i);r[0]=g;var o={};for(var s in a)hasOwnProperty.call(a,s)&&(o[s]=a[s]);o.originalType=e,o[m]="string"==typeof e?e:l,r[1]=o;for(var p=2;p<i;p++)r[p]=n[p];return t.createElement.apply(null,r)}return t.createElement.apply(null,n)}g.displayName="MDXCreateElement"},4785:(e,a,n)=>{n.r(a),n.d(a,{assets:()=>s,contentTitle:()=>r,default:()=>c,frontMatter:()=>i,metadata:()=>o,toc:()=>p});var t=n(7462),l=(n(7294),n(3905));const i={slug:"java-optional",title:"Tips menangani NullPointerException dengan Java Optional",authors:"topekox",tags:["java","java 8"]},r=void 0,o={permalink:"/blog/java-optional",source:"@site/blog/2022-04-26-java-optional.md",title:"Tips menangani NullPointerException dengan Java Optional",description:"Bagi programmer Java sudah wajib hukumnya untuk selalu bertemu dengan NullPointerException, dan ini sebenarnya membuat crash program kita, dan yang jelas kita harus sedikit garuk kepala untuk menangani exception ini. Cara yang paling populer adalah diakali dengan statement kondisi if else. Untuk menangani ini, Java versi 8 mengenalkan fitur baru yaitu class baru bernama Optional yang berada pada package java.util. Class ini sangat membantu sekali untuk menangani null tanpa harus dicek terlebih dahulu dengan statement kondisi if else.",date:"2022-04-26T00:00:00.000Z",formattedDate:"April 26, 2022",tags:[{label:"java",permalink:"/blog/tags/java"},{label:"java 8",permalink:"/blog/tags/java-8"}],readingTime:3.59,hasTruncateMarker:!0,authors:[{name:"Ucup TopekoX",title:"Tutorial Timposu creator",url:"https://topekox.github.io",imageURL:"https://topekox.github.io/assets/images/avatar.jpeg",key:"topekox"}],frontMatter:{slug:"java-optional",title:"Tips menangani NullPointerException dengan Java Optional",authors:"topekox",tags:["java","java 8"]},prevItem:{title:"Daftar Repository Lokal Ubuntu 22.04",permalink:"/blog/repo-lokal-ubuntu-22-04"},nextItem:{title:"5 Alasan menggunakan Golang untuk Aplikasi Enterpise",permalink:"/blog/alasan-menggunakan-golang-enterprise"}},s={authorsImageUrls:[void 0]},p=[{value:"Check Null",id:"check-null",level:2},{value:"if Logic",id:"if-logic",level:2},{value:"Operation if Not Null",id:"operation-if-not-null",level:2},{value:"Operation to Null Value",id:"operation-to-null-value",level:2},{value:"nested If Checking",id:"nested-if-checking",level:2},{value:"Check and Throw Exception",id:"check-and-throw-exception",level:2},{value:"if Check Do Something",id:"if-check-do-something",level:2},{value:"neested Object",id:"neested-object",level:2},{value:"Filter",id:"filter",level:2}],u={toc:p},m="wrapper";function c(e){let{components:a,...n}=e;return(0,l.kt)(m,(0,t.Z)({},u,n,{components:a,mdxType:"MDXLayout"}),(0,l.kt)("p",null,"Bagi programmer Java sudah wajib hukumnya untuk selalu bertemu dengan ",(0,l.kt)("inlineCode",{parentName:"p"},"NullPointerException"),", dan ini sebenarnya membuat crash program kita, dan yang jelas kita harus sedikit garuk kepala untuk menangani exception ini. Cara yang paling populer adalah diakali dengan statement kondisi ",(0,l.kt)("inlineCode",{parentName:"p"},"if else"),". Untuk menangani ini, Java versi 8 mengenalkan fitur baru yaitu class baru bernama ",(0,l.kt)("inlineCode",{parentName:"p"},"Optional")," yang berada pada package ",(0,l.kt)("inlineCode",{parentName:"p"},"java.util"),". Class ini sangat membantu sekali untuk menangani ",(0,l.kt)("inlineCode",{parentName:"p"},"null")," tanpa harus dicek terlebih dahulu dengan statement kondisi ",(0,l.kt)("inlineCode",{parentName:"p"},"if else"),". "),(0,l.kt)("p",null,"Berikut contoh program yang menghasilkan ",(0,l.kt)("inlineCode",{parentName:"p"},"NullPointerException")," :"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'public class DemoOptional {\n\n    public static void main(String[] args) {\n        \n        String[] students = new String[20];\n        String john = students[10].toUpperCase();\n\n        System.out.println("Name : " + john);        \n    }\n}\n')),(0,l.kt)("p",null,"Sekilas program ini tidak ada yang salah, ketika dicompile program ini tidak akan mengalami pesan error, tetapi ketika dieksekusi program ini akan menghasilkan error dikarenakan variable ",(0,l.kt)("inlineCode",{parentName:"p"},"john")," yang dipanggil masih belum ada nilainya alias ",(0,l.kt)("inlineCode",{parentName:"p"},"null"),"."),(0,l.kt)("p",null,"Ketika program ini di jalankan/run maka akan menghasilkan exception ",(0,l.kt)("inlineCode",{parentName:"p"},"NullPointerException"),", karena memang array students index 10 masih bernilai ",(0,l.kt)("inlineCode",{parentName:"p"},"null"),"."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'Exception in thread "main" java.lang.NullPointerException: Cannot invoke "String.toUpperCase()" because "<local1>[10]" is null\n    at DemoOptional.main(DemoOptional.java:6)\n')),(0,l.kt)("p",null,"Nah untuk mengatasinya biasanya dibuatkan statement pemilihan ",(0,l.kt)("inlineCode",{parentName:"p"},"if")," untuk menghandle exception tersebut misalnya seperti di bawah ini:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'String[] students = new String[20];\n\n// cek nilai apakah null\nif (students[10] == null) {\n    students[10] = "John Doe";\n}\n\nString john = students[10].toUpperCase();\n\nSystem.out.println("Name : " + john);\n')),(0,l.kt)("p",null,"Output:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"Name : JOHN DOE\n")),(0,l.kt)("p",null,"Contoh penggunaan ",(0,l.kt)("inlineCode",{parentName:"p"},"if")," seperti contoh di atas tidaklah salah, tetapi karena seringnya programmer Java mendapatkan permasalahan seperti contoh di atas maka Java 8 membuatkan solusi lain menggunakan class ",(0,l.kt)("inlineCode",{parentName:"p"},"Optional"),". Contoh program di atas dapat disederhanakan menggunakan class Optional seperti contoh sebagai berikut:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'import java.util.Optional;\n\npublic class DemoOptional {\n    public static void main(String[] args) {\n        String[] students = new String[20];\n\n        String john = Optional.ofNullable(students[10])\n                .orElse("John Doe").toUpperCase();\n\n        System.out.println("Name : " + john);\n    }\n}\n')),(0,l.kt)("p",null,"Output yang dihasilkan akan sama dengan program sebelumnya tetapi cara yang digunakan sedikit berbeda karena menggunakan class ",(0,l.kt)("inlineCode",{parentName:"p"},"Optional")," untuk memeriksa nilai dari ",(0,l.kt)("inlineCode",{parentName:"p"},"student[10]")," yang langsung memberikan nilai ketika bernilai Nullable."),(0,l.kt)("p",null,"Beberapa contoh penggunaan Optional."),(0,l.kt)("admonition",{type:"info"},(0,l.kt)("p",{parentName:"admonition"},"Yang berada dalam blok komentar adalah cara manual")),(0,l.kt)("h2",{id:"check-null"},"Check Null"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'//        String name = customer.getName();\n//        if (name == null) {\n//            name = "";\n//        }\n    \n String name = Optional.ofNullable(customer.getName())\n                .orElse("");\n')),(0,l.kt)("h2",{id:"if-logic"},"if Logic"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'//        Customer customer = repository.findById("id");\n//        if (customer == null) {\n//            customer = repository.createNew();\n//        }\n\nString nameUpper = Optional.ofNullable(customer.getName())\n                .map(value -> value.toUpperCase())\n                .orElse("");\n')),(0,l.kt)("h2",{id:"operation-if-not-null"},"Operation if Not Null"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'//                int id = 2;\n//                Person person = session.get(Person.class, id);\n//                if (person != null) {\n//                  System.out.println("Deleting");\n//                  session.delete(person);\n//                }\n\nint id = 2;\nOptional<Person> person = Optional.ofNullable(session.get(Person.class, id));\nperson.ifPresent(value -> session.delete(value));\n')),(0,l.kt)("h2",{id:"operation-to-null-value"},"Operation to Null Value"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'//        String nameUpper = customer.getName();\n//        if (nameUpper != null) {\n//            nameUpper = nameUpper.toUpperCase();\n//        } else {\n//            nameUpper = "";\n//        }\n\nString nameUpper = Optional.ofNullable(customer.getName())\n                .map(value -> value.toUpperCase())\n                .orElse("");\n')),(0,l.kt)("h2",{id:"nested-if-checking"},"nested If Checking"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'//        String country = "Indonesia";\n//        if (customer.getAddress() != null) {\n//            if (customer.getAddress().getCountry() != null) {\n//                country = customer.getAddress().getCountry();\n//            }\n//        }\n\nString country = Optional.ofNullable(customer.getAddress())\n                .map(address -> address.getCountry())\n                .orElse("Indonesia");\n\n')),(0,l.kt)("h2",{id:"check-and-throw-exception"},"Check and Throw Exception"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'//        String name = customer.getName();\n//        if (name == null) {\n//            throw new IllegalArgumentException("Name is null");\n//        }\n\nString name = Optional.ofNullable(customer.getName())\n                .orElseThrow(() -> new IllegalArgumentException("Name is null"));\n')),(0,l.kt)("h2",{id:"if-check-do-something"},"if Check Do Something"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"//        if (customer.getAddress() != null) {\n//            if (customer.getAddress().getCountry() != null) {\n//                System.out.println(customer.getAddress().getCountry());\n//            }\n//        }\n\nOptional.ofNullable(customer.getAddress())\n                .map(address -> address.getCountry())\n                .ifPresent(country -> System.out.println(country));\n\n")),(0,l.kt)("h2",{id:"neested-object"},"neested Object"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"//        Long cashBalance = 0L;\n//        if (customer.getWallet() != null) {\n//            if (customer.getWallet().getBalance() != null) {\n//                cashBalance = customer.getWallet().getBalance().getCashBalance();\n//            }\n//        }\n\nLong cashBalance = Optional.ofNullable(customer.getWallet())\n                .map(wallet -> wallet.getBalance())\n                .map(balance -> balance.getCashBalance())\n                .orElse(0L);\n")),(0,l.kt)("h2",{id:"filter"},"Filter"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"//        Long bonus = 0L;\n//        if (CustomerType.PLATINUM.equals(customer.getType())) {\n//            if (customer.getWallet() != null) {\n//                if (customer.getWallet().getBalance() != null) {\n//                    bonus = customer.getWallet().getBalance().getCashBalance() * 10 / 100;\n//                }\n//            }\n//        }\n\nLong bonus = Optional.ofNullable(customer)\n                .filter(value -> CustomerType.PLATINUM.equals(customer.getType()))\n                .map(value -> value.getWallet())\n                .map(wallet -> wallet.getBalance())\n                .map(balance -> balance.getCashBalance())\n                .map(cashBalance -> cashBalance * 10 / 100)\n                .orElse(0L);\n")),(0,l.kt)("admonition",{type:"info"},(0,l.kt)("p",{parentName:"admonition"},"Download ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/TopekoX/java-optional-demo"},"Source Code"))),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Referensi")," :"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html"},"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://www.youtube.com/watch?v=mucDS5Db9go"},"https://www.youtube.com/watch?v=mucDS5Db9go"))))}c.isMDXComponent=!0}}]);