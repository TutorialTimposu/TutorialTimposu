"use strict";(self.webpackChunktimposu=self.webpackChunktimposu||[]).push([[958],{3905:function(e,a,n){n.d(a,{Zo:function(){return p},kt:function(){return g}});var t=n(7294);function l(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function r(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),n.push.apply(n,t)}return n}function i(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?r(Object(n),!0).forEach((function(a){l(e,a,n[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))}))}return e}function o(e,a){if(null==e)return{};var n,t,l=function(e,a){if(null==e)return{};var n,t,l={},r=Object.keys(e);for(t=0;t<r.length;t++)n=r[t],a.indexOf(n)>=0||(l[n]=e[n]);return l}(e,a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(t=0;t<r.length;t++)n=r[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}var u=t.createContext({}),s=function(e){var a=t.useContext(u),n=a;return e&&(n="function"==typeof e?e(a):i(i({},a),e)),n},p=function(e){var a=s(e.components);return t.createElement(u.Provider,{value:a},e.children)},m={inlineCode:"code",wrapper:function(e){var a=e.children;return t.createElement(t.Fragment,{},a)}},c=t.forwardRef((function(e,a){var n=e.components,l=e.mdxType,r=e.originalType,u=e.parentName,p=o(e,["components","mdxType","originalType","parentName"]),c=s(n),g=l,d=c["".concat(u,".").concat(g)]||c[g]||m[g]||r;return n?t.createElement(d,i(i({ref:a},p),{},{components:n})):t.createElement(d,i({ref:a},p))}));function g(e,a){var n=arguments,l=a&&a.mdxType;if("string"==typeof e||l){var r=n.length,i=new Array(r);i[0]=c;var o={};for(var u in a)hasOwnProperty.call(a,u)&&(o[u]=a[u]);o.originalType=e,o.mdxType="string"==typeof e?e:l,i[1]=o;for(var s=2;s<r;s++)i[s]=n[s];return t.createElement.apply(null,i)}return t.createElement.apply(null,n)}c.displayName="MDXCreateElement"},4785:function(e,a,n){n.r(a),n.d(a,{assets:function(){return p},contentTitle:function(){return u},default:function(){return g},frontMatter:function(){return o},metadata:function(){return s},toc:function(){return m}});var t=n(7462),l=n(3366),r=(n(7294),n(3905)),i=["components"],o={slug:"java-optional",title:"Tips menangani NullPointerException dengan Java Optional",authors:"topekox",tags:["java"]},u=void 0,s={permalink:"/blog/java-optional",source:"@site/blog/2022-04-26-java-optional.md",title:"Tips menangani NullPointerException dengan Java Optional",description:"Bagi programmer Java sudah wajib hukumnya untuk selalu bertemu dengan NullPointerException, dan ini sebenarnya membuat crash program kita, dan yang jelas kita harus sedikit garuk kepala untuk menangani exception ini. Cara yang paling populer adalah diakali dengan statement kondisi if else. Untuk menangani ini, Java versi 8 mengenalkan fitur baru yaitu class baru bernama Optional yang berada pada package java.util. Class ini sangat membantu sekali untuk menangani null tanpa harus dicek terlebih dahulu dengan statement kondisi if else.",date:"2022-04-26T00:00:00.000Z",formattedDate:"April 26, 2022",tags:[{label:"java",permalink:"/blog/tags/java"}],readingTime:2.505,truncated:!0,authors:[{name:"Ucup TopekoX",title:"Tutorial Timposu creator",url:"https://topekox.github.io",imageURL:"https://topekox.github.io/assets/images/avatar.jpeg",key:"topekox"}],frontMatter:{slug:"java-optional",title:"Tips menangani NullPointerException dengan Java Optional",authors:"topekox",tags:["java"]},nextItem:{title:"5 Alasan menggunakan Golang untuk Aplikasi Enterpise",permalink:"/blog/alasan-menggunakan-golang-enterprise"}},p={authorsImageUrls:[void 0]},m=[{value:"Check Null",id:"check-null",level:2},{value:"if Logic",id:"if-logic",level:2},{value:"Operation to Null Value",id:"operation-to-null-value",level:2},{value:"nested If Checking",id:"nested-if-checking",level:2},{value:"Check and Throw Exception",id:"check-and-throw-exception",level:2},{value:"if Check Do Something",id:"if-check-do-something",level:2},{value:"neested Object",id:"neested-object",level:2},{value:"Filter",id:"filter",level:2}],c={toc:m};function g(e){var a=e.components,n=(0,l.Z)(e,i);return(0,r.kt)("wrapper",(0,t.Z)({},c,n,{components:a,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Bagi programmer Java sudah wajib hukumnya untuk selalu bertemu dengan ",(0,r.kt)("inlineCode",{parentName:"p"},"NullPointerException"),", dan ini sebenarnya membuat crash program kita, dan yang jelas kita harus sedikit garuk kepala untuk menangani exception ini. Cara yang paling populer adalah diakali dengan statement kondisi ",(0,r.kt)("inlineCode",{parentName:"p"},"if else"),". Untuk menangani ini, Java versi 8 mengenalkan fitur baru yaitu class baru bernama ",(0,r.kt)("inlineCode",{parentName:"p"},"Optional")," yang berada pada package ",(0,r.kt)("inlineCode",{parentName:"p"},"java.util"),". Class ini sangat membantu sekali untuk menangani ",(0,r.kt)("inlineCode",{parentName:"p"},"null")," tanpa harus dicek terlebih dahulu dengan statement kondisi ",(0,r.kt)("inlineCode",{parentName:"p"},"if else"),". "),(0,r.kt)("p",null,"Berikut contoh program yang menghasilkan ",(0,r.kt)("inlineCode",{parentName:"p"},"NullPointerException")," :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java",metastring:'title="DemoOptional.java"',title:'"DemoOptional.java"'},'public class DemoOptional {\n\n    public static void main(String[] args) {\n        \n        String[] students = new String[20];\n        String john = students[10].toUpperCase();\n\n        System.out.println("Name : " + john);        \n    }\n}\n')),(0,r.kt)("p",null,"Ketika program ini di jalankan/run maka akan menghasilkan exception ",(0,r.kt)("inlineCode",{parentName:"p"},"NullPointerException"),", karena memang array students index 10 masih bernilai ",(0,r.kt)("inlineCode",{parentName:"p"},"null"),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'Exception in thread "main" java.lang.NullPointerException: Cannot invoke "String.toUpperCase()" because "<local1>[10]" is null\n    at DemoOptional.main(DemoOptional.java:6)\n')),(0,r.kt)("p",null,"Nah untuk mengatasinya biasanya dibuatkan statement pemilihan ",(0,r.kt)("inlineCode",{parentName:"p"},"if else")," untuk menghandle exception tersebut misalnya seperti di bawah ini:"),(0,r.kt)("p",null,"Beberapa contoh penggunaan Optional."),(0,r.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"Yang berada dalam blok komentar adalah cara manual"))),(0,r.kt)("h2",{id:"check-null"},"Check Null"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'//        String name = customer.getName();\n//        if (name == null) {\n//            name = "";\n//        }\n    \n String name = Optional.ofNullable(customer.getName())\n                .orElse("");\n')),(0,r.kt)("h2",{id:"if-logic"},"if Logic"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'//        Customer customer = repository.findById("id");\n//        if (customer == null) {\n//            customer = repository.createNew();\n//        }\n\nString nameUpper = Optional.ofNullable(customer.getName())\n                .map(value -> value.toUpperCase())\n                .orElse("");\n')),(0,r.kt)("h2",{id:"operation-to-null-value"},"Operation to Null Value"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'//        String nameUpper = customer.getName();\n//        if (nameUpper != null) {\n//            nameUpper = nameUpper.toUpperCase();\n//        } else {\n//            nameUpper = "";\n//        }\n\nString nameUpper = Optional.ofNullable(customer.getName())\n                .map(value -> value.toUpperCase())\n                .orElse("");\n')),(0,r.kt)("h2",{id:"nested-if-checking"},"nested If Checking"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'//        String country = "Indonesia";\n//        if (customer.getAddress() != null) {\n//            if (customer.getAddress().getCountry() != null) {\n//                country = customer.getAddress().getCountry();\n//            }\n//        }\n\nString country = Optional.ofNullable(customer.getAddress())\n                .map(address -> address.getCountry())\n                .orElse("Indonesia");\n\n')),(0,r.kt)("h2",{id:"check-and-throw-exception"},"Check and Throw Exception"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'//        String name = customer.getName();\n//        if (name == null) {\n//            throw new IllegalArgumentException("Name is null");\n//        }\n\nString name = Optional.ofNullable(customer.getName())\n                .orElseThrow(() -> new IllegalArgumentException("Name is null"));\n')),(0,r.kt)("h2",{id:"if-check-do-something"},"if Check Do Something"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},"//        if (customer.getAddress() != null) {\n//            if (customer.getAddress().getCountry() != null) {\n//                System.out.println(customer.getAddress().getCountry());\n//            }\n//        }\n\nOptional.ofNullable(customer.getAddress())\n                .map(address -> address.getCountry())\n                .ifPresent(country -> System.out.println(country));\n\n")),(0,r.kt)("h2",{id:"neested-object"},"neested Object"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},"//        Long cashBalance = 0L;\n//        if (customer.getWallet() != null) {\n//            if (customer.getWallet().getBalance() != null) {\n//                cashBalance = customer.getWallet().getBalance().getCashBalance();\n//            }\n//        }\n\nLong cashBalance = Optional.ofNullable(customer.getWallet())\n                .map(wallet -> wallet.getBalance())\n                .map(balance -> balance.getCashBalance())\n                .orElse(0L);\n")),(0,r.kt)("h2",{id:"filter"},"Filter"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},"//        Long bonus = 0L;\n//        if (CustomerType.PLATINUM.equals(customer.getType())) {\n//            if (customer.getWallet() != null) {\n//                if (customer.getWallet().getBalance() != null) {\n//                    bonus = customer.getWallet().getBalance().getCashBalance() * 10 / 100;\n//                }\n//            }\n//        }\n\nLong bonus = Optional.ofNullable(customer)\n                .filter(value -> CustomerType.PLATINUM.equals(customer.getType()))\n                .map(value -> value.getWallet())\n                .map(wallet -> wallet.getBalance())\n                .map(balance -> balance.getCashBalance())\n                .map(cashBalance -> cashBalance * 10 / 100)\n                .orElse(0L);\n")),(0,r.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"Download ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/TopekoX/java-optional-demo"},"Source Code")))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Referensi")," :"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html"},"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://www.youtube.com/watch?v=mucDS5Db9go"},"https://www.youtube.com/watch?v=mucDS5Db9go"))))}g.isMDXComponent=!0}}]);