"use strict";(self.webpackChunktimposu=self.webpackChunktimposu||[]).push([[3863],{8630:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>c,contentTitle:()=>t,default:()=>p,frontMatter:()=>l,metadata:()=>i,toc:()=>d});var i=a(1905),s=a(4848),r=a(8453);const l={slug:"install-springboot-linux-service",title:"Install Aplikasi Spring Boot menjadi Service di Linux",authors:"topekox",tags:["spring","springboot","linux"]},t=void 0,c={authorsImageUrls:[void 0]},d=[{value:"Build aplikasi Spring Boot menjadi executable",id:"build-aplikasi-spring-boot-menjadi-executable",level:2},{value:"Install Executable Jar sebagai Service Linux",id:"install-executable-jar-sebagai-service-linux",level:2},{value:"File Jar",id:"file-jar",level:3},{value:"File Konfigurasi",id:"file-konfigurasi",level:3},{value:"Membuat File Service",id:"membuat-file-service",level:3},{value:"Menambahkan Environment Variable",id:"menambahkan-environment-variable",level:3},{value:"Melihat Log Service",id:"melihat-log-service",level:3},{value:"Baca Juga",id:"baca-juga",level:2}];function o(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.p,{children:["Tutorial kali ini kita menginstal aplikasi Spring Boot sebagai ",(0,s.jsx)(n.code,{children:"systemd"})," Service Linux, yang memungkinkan kita untuk start, stop dan melihat status aplikasi menggunakan perintah misalnya: service start, service stop dan service status."]}),"\n",(0,s.jsx)(n.h2,{id:"build-aplikasi-spring-boot-menjadi-executable",children:"Build aplikasi Spring Boot menjadi executable"}),"\n",(0,s.jsxs)(n.p,{children:["Sebelum kita menginstal aplikasi Spring Boot sebagai service di Linux, kita dapat membuat agar aplikasi menjadi executable. Sebenarnya untuk menjalankan aplikasi Spring Boot kita bisa menggunakan perintah ",(0,s.jsx)(n.code,{children:"java -jar"})," untuk menjalankan hasil build yang berformat ",(0,s.jsx)(n.code,{children:".jar"}),", tetapi pada sistem Linux disarankan agar aplikasi dapat dieksekusi sepenuhnya, untuk menghidari masalah kompatible aplikasi dengan beberapa tools pada sistem linux."]}),"\n",(0,s.jsxs)(n.p,{children:["Untuk membuat ",(0,s.jsx)(n.code,{children:"jar"}),' sepenuhnya dapat "dieksekusi" dengan Maven, gunakan konfigurasi berikut ini pada bagian plugin di ',(0,s.jsx)(n.code,{children:"pom.xml"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:"<plugin>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>spring-boot-maven-plugin</artifactId>\n    <configuration>\n        <executable>true</executable>\n    </configuration>\n</plugin>\n"})}),"\n",(0,s.jsx)(n.p,{children:"Jika menggunakan Gradle konfigurasinya seperti ini:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"bootJar {\n    launchScript()\n}\n"})}),"\n",(0,s.jsx)(n.p,{children:"Untuk perintah melakukan build sebagai berikut:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"mvn clean install -DskipTests\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Jika sukses, hasil build ada di dalam direktori ",(0,s.jsx)(n.code,{children:"target/"})," dengan format ",(0,s.jsx)(n.code,{children:".jar"}),", karena sudah dilakukan konfigurasi sebelumnya kita dapat langsung mengeksekusi file ",(0,s.jsx)(n.code,{children:"jar"})," tersebut tanpa perintah ",(0,s.jsx)(n.code,{children:"java -jar namafile.jar"}),", misalkan contoh nama aplikasi kita rename menjadi ",(0,s.jsx)(n.code,{children:"myapp.jar"}),"."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"./myapp.jar\n"})}),"\n",(0,s.jsx)(n.h2,{id:"install-executable-jar-sebagai-service-linux",children:"Install Executable Jar sebagai Service Linux"}),"\n",(0,s.jsxs)(n.p,{children:["Setelah mendapatkan file ",(0,s.jsx)(n.code,{children:"jar"}),", kita dapat memindahkan file tersebut ke dalam direktori khusus contoh nama direktorinya ",(0,s.jsx)(n.code,{children:"myapp"})," pada lokasi ",(0,s.jsx)(n.code,{children:"/home/ucup"})," dan menambahkan 1 file konfigurasi dengan ekstensi ",(0,s.jsx)(n.code,{children:"conf"})," dengan ",(0,s.jsx)(n.strong,{children:"nama file harus sama"})," dengan nama file ",(0,s.jsx)(n.code,{children:"jar"}),", contoh ",(0,s.jsx)(n.code,{children:"myapp.conf"}),". Jadi dalam direktori ",(0,s.jsx)(n.code,{children:"myapp"})," terdapat 2 file dengan nama ",(0,s.jsx)(n.code,{children:"myapp.jar"})," dan ",(0,s.jsx)(n.code,{children:"myapp.conf"}),"."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"myapp\n\u251c\u2500\u2500 myapp.conf\n\u251c\u2500\u2500 myapp.jar\n"})}),"\n",(0,s.jsx)(n.p,{children:"Keterangan:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"myapp.jar"})," : File ",(0,s.jsx)(n.code,{children:"jar"})," adalah file aplikasi yang akan dieksekusi."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"myapp.conf"})," : File yang berisi konfigurasi ketika service dijalankan."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"file-jar",children:"File Jar"}),"\n",(0,s.jsx)(n.p,{children:"Berikan perimission agar file jar dapat di eksekusi."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"chmod 500 /home/ucup/myapp.jar\n"})}),"\n",(0,s.jsx)(n.h3,{id:"file-konfigurasi",children:"File Konfigurasi"}),"\n",(0,s.jsxs)(n.p,{children:["File konfigurasi digunakan untuk memasukan parameter ketika service dijalankan. Contoh saya mengisi file konfigurasi ",(0,s.jsx)(n.code,{children:"myapp.conf"})," sebagai berikut:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'JAVA_OPTS="-Dspring.profiles.active=prod -Duser.timezone=Asia/Makassar -Xmx1G -Xms1G -Dserver.port=8000"\n'})}),"\n",(0,s.jsx)(n.p,{children:"Keterangan:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"-Dspring.profiles.active=prod"})," : Menjalankan  aplikasi dengan profiles ",(0,s.jsx)(n.code,{children:"prod"})," (sesuaikan dengan profile yang anda gunakan)."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"-Duser.timezone=Asia/Makassar"})," : Menjalankan aplikasi dengan time zone Asia/Makassar."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Xmx1G"})," : Memeberikan alokasi memori maksimum untuk mesin virtual Java (JVM) 1GB."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"-Xms1G"})," : Memberikan alokasi initial memori awal 1GB."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"-Dserver.port=8000"})," : Port yang digunakan ketika aplikasi dijalankan port 8000."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Berikan perimision pada file konfigurasi."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"chown 400 /home/ucup/myapp.conf\n"})}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["Selengkapnya parameter konfigurasi: ",(0,s.jsx)(n.a,{href:"https://docs.spring.io/spring-boot/docs/2.2.0.RC1/reference/html/deployment.html#deployment-script-customization-when-it-runs",children:"https://docs.spring.io/spring-boot/docs/2.2.0.RC1/reference/html/deployment.html#deployment-script-customization-when-it-runs"})]})}),"\n",(0,s.jsx)(n.h3,{id:"membuat-file-service",children:"Membuat File Service"}),"\n",(0,s.jsxs)(n.p,{children:["Buat file service di dalam direktori ",(0,s.jsx)(n.code,{children:"/etc/systemd/system/"})," dengan nama bebas, misal contoh ",(0,s.jsx)(n.code,{children:"myapp.service"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"sudo nano /etc/systemd/system/myapp.service\n"})}),"\n",(0,s.jsx)(n.p,{children:"Isi file tersebut:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"[Unit]\nDescription=Aplikasi Guee\nAfter=syslog.target\n\n[Service]\nUser=ucup\nExecStart=/home/ucup/myapp/myapp.jar\nSuccessExitStatus=143\n\n[Install]\nWantedBy=multi-user.target\n"})}),"\n",(0,s.jsx)(n.p,{children:"Note:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Pada bagian ",(0,s.jsx)(n.em,{children:"User"})," ganti isi parameternya sesuai dengan user yang memiliki akses menjalankan aplikasi."]}),"\n",(0,s.jsxs)(n.li,{children:["Pada bagian ",(0,s.jsx)(n.em,{children:"ExecStart"})," ganti dengan lokasi path file executable jar."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Menjalan service:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"sudo systemctl start myapp.service\n"})}),"\n",(0,s.jsx)(n.p,{children:"Menghentikan service:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"sudo systemctl stop myapp.service\n"})}),"\n",(0,s.jsx)(n.p,{children:"Melakukan restart service:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"sudo systemctl restart myapp.service\n"})}),"\n",(0,s.jsx)(n.p,{children:"Mengaktifkan service setiap startup:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"sudo systemctl enable myapp.service\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Kita dapat melakukan perintah ",(0,s.jsx)(n.code,{children:"ps"})," untuk melihat task sistem yang sedang berjalan"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"ps aux | grep myapp\n"})}),"\n",(0,s.jsx)(n.h3,{id:"menambahkan-environment-variable",children:"Menambahkan Environment Variable"}),"\n",(0,s.jsxs)(n.p,{children:["Untuk menambahkan environment variable yang dibutuhkan aplikasi spring boot, kita perlu menambahkan parameter ",(0,s.jsx)(n.code,{children:"Environment"})," pada bagian ",(0,s.jsx)(n.code,{children:"[Service]"}),", kita bisa lansung memasukan environment parameter kedalam file ",(0,s.jsx)(n.code,{children:"/etc/systemd/system/myapp.service"})," atau memisahkan ke file lain."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Memasukan langsung ke dalam file ",(0,s.jsx)(n.code,{children:"/etc/systemd/system/myapp.service"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'[Service]\nUser=ucup\nEnvironment="DB_URL=jdbc:postgresql://localhost:5432/mydb"\nEnvironment="API_KEY=dev-key-123"\nExecStart=/home/ucup/myapp/myapp.jar\nSuccessExitStatus=143\n'})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Mengimport environment dari file lain:"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["Buat file baru, dan masukan parameter environment. Contoh disini membuat file baru dengan nama ",(0,s.jsx)(n.code,{children:"myapp-env"})," pada direktori ",(0,s.jsx)(n.code,{children:"/etc/default"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"sudo touch /etc/default/myapp-env\n"})}),"\n",(0,s.jsx)(n.p,{children:"Lalu masukan variable environtment yang dibuat:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"DB_URL=jdbc:postgresql://localhost:5432/mydb\nAPI_KEY=dev-key-123\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Tambahkan parameter ",(0,s.jsx)(n.code,{children:"EnvironmentFile=-/etc/default/myapp-env"}),", lalu masukan pada file ",(0,s.jsx)(n.code,{children:"/etc/systemd/system/myapp.service"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"[Service]\nUser=topekox\nEnvironmentFile=-/etc/default/myapp-env\nExecStart=/home/ucup/myapp/myapp.jar\nSuccessExitStatus=143\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.em,{children:(0,s.jsx)(n.strong,{children:"Note"})})," : jangan lupa untuk menambahkan tanda ",(0,s.jsx)(n.code,{children:"-"})," sebelum lokasi file environtment pada parameter ",(0,s.jsx)(n.code,{children:"EnvironmentFile"}),"."]}),"\n",(0,s.jsx)(n.h3,{id:"melihat-log-service",children:"Melihat Log Service"}),"\n",(0,s.jsx)(n.p,{children:"Untuk melihat log service dapat menggunakan perintah:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"journalctl -u myapp.service \n"})}),"\n",(0,s.jsx)(n.p,{children:"Kita dapat menyimpannya ke dalam file:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"journalctl -u myapp.service >> log.txt\n"})}),"\n",(0,s.jsx)(n.h2,{id:"baca-juga",children:"Baca Juga"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://docs.spring.io/spring-boot/docs/2.2.0.RC1/reference/html/deployment.html#deployment-install",children:"https://docs.spring.io/spring-boot/docs/2.2.0.RC1/reference/html/deployment.html#deployment-install"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://howtoprogram.xyz/2020/05/29/install-a-spring-boot-application-as-a-linux-service/",children:"https://howtoprogram.xyz/2020/05/29/install-a-spring-boot-application-as-a-linux-service/"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://serverfault.com/questions/413397/how-to-set-environment-variable-in-systemd-service",children:"https://serverfault.com/questions/413397/how-to-set-environment-variable-in-systemd-service"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://fedoraproject.org/wiki/Packaging:Systemd",children:"https://fedoraproject.org/wiki/Packaging:Systemd"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://medium.com/@manjiki/running-spring-boot-applications-as-system-services-on-linux-5ea5f148c39a",children:"https://medium.com/@manjiki/running-spring-boot-applications-as-system-services-on-linux-5ea5f148c39a"})}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}},8453:(e,n,a)=>{a.d(n,{R:()=>l,x:()=>t});var i=a(6540);const s={},r=i.createContext(s);function l(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),i.createElement(r.Provider,{value:n},e.children)}},1905:e=>{e.exports=JSON.parse('{"permalink":"/blog/install-springboot-linux-service","source":"@site/blog/2025-02-06-install-springboot-linux-service.md","title":"Install Aplikasi Spring Boot menjadi Service di Linux","description":"Tutorial kali ini kita menginstal aplikasi Spring Boot sebagai systemd Service Linux, yang memungkinkan kita untuk start, stop dan melihat status aplikasi menggunakan perintah misalnya: service start, service stop dan service status.","date":"2025-02-06T00:00:00.000Z","tags":[{"inline":true,"label":"spring","permalink":"/blog/tags/spring"},{"inline":true,"label":"springboot","permalink":"/blog/tags/springboot"},{"inline":true,"label":"linux","permalink":"/blog/tags/linux"}],"readingTime":3.345,"hasTruncateMarker":true,"authors":[{"name":"Ucup TopekoX","title":"TimposuLabs creator","imageURL":"https://topekox.github.io/assets/images/avatar.jpeg","key":"topekox","page":null}],"frontMatter":{"slug":"install-springboot-linux-service","title":"Install Aplikasi Spring Boot menjadi Service di Linux","authors":"topekox","tags":["spring","springboot","linux"]},"unlisted":false,"nextItem":{"title":"Cara Custom Domain Github Pages","permalink":"/blog/custom-domain-github"}}')}}]);